{"ast":null,"code":"import { TasksService } from './tasks.service';\nimport { Task } from './schema/tasks';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./tasks.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = function (a0, a1) {\n  return {\n    \"table-success\": a0,\n    \"table-light\": a1\n  };\n};\nfunction TasksComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"tr\", 22)(1, \"td\");\n    i0.ÉµÉµtext(2);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(3, \"td\")(4, \"span\", 23);\n    i0.ÉµÉµtext(5);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(6, \"td\")(7, \"button\", 24);\n    i0.ÉµÉµlistener(\"click\", function TasksComponent_tr_21_Template_button_click_7_listener() {\n      const restoredCtx = i0.ÉµÉµrestoreView(_r4);\n      const task_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r3.viewTask(task_r2._id));\n    });\n    i0.ÉµÉµtext(8, \"Edit\");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(9, \"td\")(10, \"button\", 25);\n    i0.ÉµÉµlistener(\"click\", function TasksComponent_tr_21_Template_button_click_10_listener() {\n      const restoredCtx = i0.ÉµÉµrestoreView(_r4);\n      const task_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r5.deleteTask(task_r2._id));\n    });\n    i0.ÉµÉµtext(11, \"Delete\");\n    i0.ÉµÉµelementEnd()()();\n  }\n  if (rf & 2) {\n    const task_r2 = ctx.$implicit;\n    i0.ÉµÉµproperty(\"ngClass\", i0.ÉµÉµpureFunction2(4, _c0, task_r2.complete, !task_r2.complete));\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(task_r2.task_name);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"ngClass\", task_r2.complete ? \"badge-success\" : \"badge-danger\");\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", task_r2.complete ? \"Yes\" : \"No\", \" \");\n  }\n}\nexport class TasksComponent {\n  constructor(taskService) {\n    this.taskService = taskService;\n    this.tasks = [];\n    this.task = new Task();\n    this._id = '';\n    this.task_name = '';\n    this.complete = false;\n  }\n  ngOnInit() {\n    this.viewTasks();\n  }\n  viewTasks() {\n    this.taskService.getTasks().subscribe({\n      next: data => {\n        this.tasks = data;\n        console.log(data);\n      },\n      error: e => console.error(e)\n    });\n  }\n  viewTask(id) {\n    //var tasks=this.tasks;\n    this.taskService.viewTask(id).subscribe({\n      next: data => {\n        this.task = data;\n        this._id = this.task._id;\n        this.task_name = this.task.task_name;\n        this.complete = this.task.complete;\n      }\n    });\n  }\n  addeditTask(addoredit) {\n    const newTask = {\n      task_name: this.task_name,\n      complete: this.complete\n    };\n    if (this._id == '0') {\n      //this.taskService.addTask(newTask).subscribe(({task})=>{this.tasks.push(task);})\n      this.taskService.addTask(newTask).subscribe(data => alert('Task added'));\n    } else {\n      this.taskService.updateTask(this._id, newTask).subscribe(data => alert('Task updated'));\n    }\n  }\n  deleteTask(id) {\n    var tasks = this.tasks;\n    this.taskService.deleteTask(id).subscribe(data => {\n      // if(data.n==1){\n      for (var i = 0; i < tasks.length; i++) {\n        if (tasks[i]._id == id) {\n          tasks.splice(i, 1);\n        }\n        // }\n      }\n    });\n  }\n\n  reloadpage() {\n    window.location.reload();\n  }\n}\nTasksComponent.Éµfac = function TasksComponent_Factory(t) {\n  return new (t || TasksComponent)(i0.ÉµÉµdirectiveInject(i1.TasksService));\n};\nTasksComponent.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n  type: TasksComponent,\n  selectors: [[\"app-tasks\"]],\n  features: [i0.ÉµÉµProvidersFeature([TasksService])],\n  decls: 43,\n  vars: 3,\n  consts: [[1, \"jumbotron\", \"text-center\", \"bg-primary\", \"text-white\"], [1, \"container\", \"mt-4\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#myModal\", 1, \"btn\", \"btn-primary\", \"mb-3\", 3, \"click\"], [1, \"p-3\"], [1, \"table\", \"table-bordered\", \"table-hover\"], [1, \"thead-dark\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"myModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\", \"bg-primary\", \"text-white\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"close\"], [1, \"modal-body\"], [3, \"submit\"], [\"myForm\", \"\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"task_name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"name\", \"complete\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"mt-3\"], [3, \"ngClass\"], [1, \"badge\", 3, \"ngClass\"], [\"data-toggle\", \"modal\", \"data-target\", \"#myModal\", 1, \"btn\", \"btn-warning\", \"btn-sm\", 3, \"click\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n  template: function TasksComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r6 = i0.ÉµÉµgetCurrentView();\n      i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ÉµÉµtext(2, \"Task Manager\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(3, \"p\");\n      i0.ÉµÉµtext(4, \"Organize your tasks efficiently and stay productive! \\uD83D\\uDE80\");\n      i0.ÉµÉµelementEnd()();\n      i0.ÉµÉµelementStart(5, \"div\", 1)(6, \"button\", 2);\n      i0.ÉµÉµlistener(\"click\", function TasksComponent_Template_button_click_6_listener() {\n        i0.ÉµÉµrestoreView(_r6);\n        const _r1 = i0.ÉµÉµreference(32);\n        ctx._id = \"0\";\n        return i0.ÉµÉµresetView(_r1.reset());\n      });\n      i0.ÉµÉµtext(7, \" + Add Task \");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(8, \"div\", 3)(9, \"table\", 4)(10, \"thead\", 5)(11, \"tr\")(12, \"th\");\n      i0.ÉµÉµtext(13, \"Task\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(14, \"th\");\n      i0.ÉµÉµtext(15, \"Completed?\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(16, \"th\");\n      i0.ÉµÉµtext(17, \"Edit\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(18, \"th\");\n      i0.ÉµÉµtext(19, \"Delete\");\n      i0.ÉµÉµelementEnd()()();\n      i0.ÉµÉµelementStart(20, \"tbody\");\n      i0.ÉµÉµtemplate(21, TasksComponent_tr_21_Template, 12, 7, \"tr\", 6);\n      i0.ÉµÉµelementEnd()()()();\n      i0.ÉµÉµelementStart(22, \"div\", 7)(23, \"div\", 8)(24, \"div\", 9)(25, \"div\", 10)(26, \"h5\", 11);\n      i0.ÉµÉµtext(27, \"Add / Edit Task\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(28, \"button\", 12);\n      i0.ÉµÉµtext(29, \"\\u00D7\");\n      i0.ÉµÉµelementEnd()();\n      i0.ÉµÉµelementStart(30, \"div\", 13)(31, \"form\", 14, 15);\n      i0.ÉµÉµlistener(\"submit\", function TasksComponent_Template_form_submit_31_listener() {\n        i0.ÉµÉµrestoreView(_r6);\n        const _r1 = i0.ÉµÉµreference(32);\n        ctx.addeditTask(ctx._id);\n        ctx.reloadpage();\n        return i0.ÉµÉµresetView(_r1.reset());\n      });\n      i0.ÉµÉµelementStart(33, \"div\", 16)(34, \"label\");\n      i0.ÉµÉµtext(35, \"Task Name\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(36, \"input\", 17);\n      i0.ÉµÉµlistener(\"ngModelChange\", function TasksComponent_Template_input_ngModelChange_36_listener($event) {\n        return ctx.task_name = $event;\n      });\n      i0.ÉµÉµelementEnd()();\n      i0.ÉµÉµelementStart(37, \"div\", 18)(38, \"input\", 19);\n      i0.ÉµÉµlistener(\"ngModelChange\", function TasksComponent_Template_input_ngModelChange_38_listener($event) {\n        return ctx.complete = $event;\n      });\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(39, \"label\", 20);\n      i0.ÉµÉµtext(40, \"Completed?\");\n      i0.ÉµÉµelementEnd()();\n      i0.ÉµÉµelementStart(41, \"button\", 21);\n      i0.ÉµÉµtext(42, \"Save\");\n      i0.ÉµÉµelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ÉµÉµadvance(21);\n      i0.ÉµÉµproperty(\"ngForOf\", ctx.tasks);\n      i0.ÉµÉµadvance(15);\n      i0.ÉµÉµproperty(\"ngModel\", ctx.task_name);\n      i0.ÉµÉµadvance(2);\n      i0.ÉµÉµproperty(\"ngModel\", ctx.complete);\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgForOf, i3.ÉµNgNoValidate, i3.DefaultValueAccessor, i3.CheckboxControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\".table[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\r\\n    background-color: #343a40;\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.table-success[_ngcontent-%COMP%] {\\r\\n    background-color: #d4edda !important;\\r\\n}\\r\\n\\r\\n.table-light[_ngcontent-%COMP%] {\\r\\n    background-color: #f8f9fa !important;\\r\\n}\\r\\n\\r\\n\\r\\n.btn-primary[_ngcontent-%COMP%] {\\r\\n    background-color: #007bff;\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.btn-primary[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #0056b3;\\r\\n    \\r\\n}\\r\\n\\r\\n.btn-warning[_ngcontent-%COMP%] {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n\\r\\n.modal-header[_ngcontent-%COMP%] {\\r\\n    border-bottom: 2px solid #007bff;\\r\\n}\\r\\n\\r\\n.modal-content[_ngcontent-%COMP%] {\\r\\n    border-radius: 10px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFza3MvdGFza3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUI7QUFDakI7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLG9DQUFvQztBQUN4Qzs7QUFFQTtJQUNJLG9DQUFvQztBQUN4Qzs7QUFFQSxZQUFZO0FBQ1o7SUFDSSx5QkFBeUI7SUFDekIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHlCQUF5Qjs7QUFFN0I7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBLFVBQVU7QUFDVjtJQUNJLGdDQUFnQztBQUNwQzs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2QiIsInNvdXJjZXNDb250ZW50IjpbIi8qIFRhYmxlIFN0eWxlcyAqL1xyXG4udGFibGUge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4udGFibGUgdGgge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzM0M2E0MDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLnRhYmxlLXN1Y2Nlc3Mge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Q0ZWRkYSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4udGFibGUtbGlnaHQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4vKiBCdXR0b25zICovXHJcbi5idG4tcHJpbWFyeSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG59XHJcblxyXG4uYnRuLXByaW1hcnk6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZiMztcclxuICAgIFxyXG59XHJcblxyXG4uYnRuLXdhcm5pbmcge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4vKiBNb2RhbCAqL1xyXG4ubW9kYWwtaGVhZGVyIHtcclxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjMDA3YmZmO1xyXG59XHJcblxyXG4ubW9kYWwtY29udGVudCB7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["TasksService","Task","i0","TasksComponent","constructor","taskService","ngOnInit","viewTasks","getTasks","subscribe","next","data","tasks","console","log","error","e","viewTask","id","task","_id","task_name","complete","addeditTask","addoredit","newTask","addTask","alert","updateTask","deleteTask","i","length","splice","reloadpage","window","location","reload","selectors","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\hp\\mean3\\Task-Manager-CRUD-Angular15-MEAN-Stack\\Frontend\\src\\app\\tasks\\tasks.component.ts","C:\\Users\\hp\\mean3\\Task-Manager-CRUD-Angular15-MEAN-Stack\\Frontend\\src\\app\\tasks\\tasks.component.html"],"sourcesContent":["import { Component, Input } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { TasksService } from './tasks.service';\r\nimport { Task } from './schema/tasks';\r\n\r\n\r\n@Component({\r\n  selector: 'app-tasks',\r\n  templateUrl: './tasks.component.html',\r\n  styleUrls: ['./tasks.component.css'],\r\n  providers:[TasksService]\r\n})\r\nexport class TasksComponent {\r\n  tasks: Task[]=[];\r\n  task: Task = new Task;\r\n  _id:string='';\r\n  task_name:string='';\r\n  complete:boolean=false;\r\nconstructor(private taskService:TasksService){\r\n\r\n}\r\n\r\nngOnInit(){\r\nthis.viewTasks();\r\n\r\n}\r\n\r\nviewTasks(){\r\n  this.taskService.getTasks().subscribe({\r\n    next: (data:any) => {\r\n      this.tasks = data;\r\n      console.log(data);\r\n    },\r\n    error: (e:any) => console.error(e)\r\n  });\r\n}\r\n\r\nviewTask(id:any){\r\n //var tasks=this.tasks;\r\nthis.taskService.viewTask(id).subscribe({next:(data:any)=>{\r\n  this.task=data;\r\n  this._id=this.task._id;\r\n  this.task_name=this.task.task_name;\r\n  this.complete=this.task.complete;\r\n}})\r\n}\r\n\r\n\r\naddeditTask(addoredit:any){\r\n\r\n  const newTask={\r\n    task_name:this.task_name,\r\n    complete:this.complete\r\n  }\r\n  if(this._id=='0'){\r\n    //this.taskService.addTask(newTask).subscribe(({task})=>{this.tasks.push(task);})\r\n    this.taskService.addTask(newTask).subscribe(data=>alert('Task added'));\r\n  }\r\n  else {\r\n    this.taskService.updateTask(this._id,newTask).subscribe(data=>alert('Task updated'));\r\n  }\r\n\r\n}\r\n\r\n\r\ndeleteTask(id:any){\r\n  var tasks=this.tasks;\r\nthis.taskService.deleteTask(id).subscribe(data=>{\r\n // if(data.n==1){\r\n    for (var i=0;i<tasks.length;i++){\r\n      if(tasks[i]._id==id){\r\n        tasks.splice(i,1);\r\n      }\r\n   // }\r\n  }\r\n})\r\n}\r\n\r\nreloadpage(){\r\n  window.location.reload();\r\n}\r\n\r\n}\r\n","<div class=\"jumbotron text-center bg-primary text-white\">\r\n  <h1>Task Manager</h1>\r\n  <p>Organize your tasks efficiently and stay productive! ðŸš€</p>\r\n</div>\r\n\r\n<div class=\"container mt-4\">\r\n  <button type=\"button\" class=\"btn btn-primary mb-3\" data-toggle=\"modal\" data-target=\"#myModal\" (click)=\"_id='0';myForm.reset();\">\r\n    + Add Task\r\n  </button>\r\n\r\n  <!-- Task Table -->\r\n  <div class=\"p-3\">\r\n    <table class=\"table table-bordered table-hover\">\r\n      <thead class=\"thead-dark\">\r\n        <tr>\r\n          <th>Task</th>\r\n          <th>Completed?</th>\r\n          <th>Edit</th>\r\n          <th>Delete</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let task of tasks\" [ngClass]=\"{'table-success': task.complete, 'table-light': !task.complete}\">\r\n          <td>{{ task.task_name }}</td>\r\n          <td>\r\n            <span class=\"badge\" [ngClass]=\"task.complete ? 'badge-success' : 'badge-danger'\">\r\n              {{ task.complete ? 'Yes' : 'No' }}\r\n            </span>\r\n          </td>\r\n          <td>\r\n            <button class=\"btn btn-warning btn-sm\" data-toggle=\"modal\" data-target=\"#myModal\" (click)=\"viewTask(task._id)\">Edit</button>\r\n          </td>\r\n          <td>\r\n            <button class=\"btn btn-danger btn-sm\" (click)=\"deleteTask(task._id)\">Delete</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n\r\n<!-- Modal -->\r\n<div class=\"modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog modal-lg\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header bg-primary text-white\">\r\n        <h5 class=\"modal-title\">Add / Edit Task</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <form #myForm (submit)=\"addeditTask(_id);reloadpage();myForm.reset();\">\r\n          <div class=\"form-group\">\r\n            <label>Task Name</label>\r\n            <input type=\"text\" [(ngModel)]=\"task_name\" name=\"task_name\" class=\"form-control\" required>\r\n          </div>\r\n          <div class=\"form-check\">\r\n            <input type=\"checkbox\" class=\"form-check-input\" [(ngModel)]=\"complete\" name=\"complete\">\r\n            <label class=\"form-check-label\">Completed?</label>\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btn-success mt-3\">Save</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>  \r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}